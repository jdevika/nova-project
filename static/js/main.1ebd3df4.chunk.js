(this["webpackJsonpadmin-app"]=this["webpackJsonpadmin-app"]||[]).push([[0],{61:function(t,e,n){},62:function(t,e,n){},75:function(t,e,n){},77:function(t,e,n){"use strict";n.r(e);var c=n(0),s=n.n(c),a=n(22),i=n.n(a),r=(n(61),n(13)),o=n(14),l=n(16),h=n(15),j=(n(62),n(84)),u=n(83),d=n(29),b=n(3);function m(){return Object(b.jsxs)(j.a,{bg:"dark",variant:"dark",children:[Object(b.jsx)(d.b,{to:"/",className:"navbar-brand",children:"Booking Admin"}),Object(b.jsxs)(u.a,{className:"mr-auto",children:[Object(b.jsx)(d.b,{to:"/",className:"nav-link",active:"true",children:" Home"}),Object(b.jsx)(d.b,{to:"/appointments",className:"nav-link",children:"Appointments"}),Object(b.jsx)(d.b,{to:"/requests",className:"nav-link",children:"Requests"})]})]})}function x(){return Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",className:"bi bi-bag",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"})})}function p(){return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",className:"bi bi-calendar-check",viewBox:"0 0 16 16",children:[Object(b.jsx)("path",{d:"M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"}),Object(b.jsx)("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"})]})}function O(){return Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",className:"bi bi-hourglass-bottom",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M2 1.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1-.5-.5zm2.5.5v1a3.5 3.5 0 0 0 1.989 3.158c.533.256 1.011.791 1.011 1.491v.702s.18.149.5.149.5-.15.5-.15v-.7c0-.701.478-1.236 1.011-1.492A3.5 3.5 0 0 0 11.5 3V2h-7z"})})}function f(){return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",className:"bi bi-question-square",viewBox:"0 0 16 16",children:[Object(b.jsx)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),Object(b.jsx)("path",{d:"M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"})]})}var v=n(85),g=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(r.a)(this,n),e.call(this,t)}return Object(o.a)(n,[{key:"render",value:function(){var t=this;return Object(b.jsx)(v.a,{text:"white",border:"light",style:{backgroundColor:this.props.color,marginBottom:"25px"},children:Object(b.jsxs)(v.a.Body,{className:"d-flex flex-column",children:[Object(b.jsxs)("div",{className:"d-flex flex-row",children:[Object(b.jsx)("div",{className:"mr-auto num-view",style:{fontSize:"xxx-large"},children:this.props.num}),function(){switch(t.props.icon){case"1":return Object(b.jsx)(x,{});case"2":return Object(b.jsx)(p,{});case"3":return Object(b.jsx)(O,{});case"4":return Object(b.jsx)(f,{})}}()]}),Object(b.jsx)("div",{className:"d-flex flex-row",children:this.props.name})]})})}}]),n}(c.Component),C=n(56),y=n(54),w=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(r.a)(this,n),(c=e.call(this,t)).state={request:[],slots:[],appointments:[],event:[]},c}return Object(o.a)(n,[{key:"callAPI",value:function(){var t=this;fetch("http://localhost:8000/pendingrequests").then((function(t){return t.json()})).then((function(e){return t.setState({request:e})})),fetch("http://localhost:8000/appointments").then((function(t){return t.json()})).then((function(e){return t.setState({appointments:e})})),fetch("http://localhost:8000/slots").then((function(t){return t.json()})).then((function(e){return t.setState({slots:e})}))}},{key:"componentWillMount",value:function(){this.callAPI()}},{key:"render",value:function(){console.log(this.state.appointments);var t=this.state.request.map((function(t){return{id:1,title:t.customername,allDay:!0,start:t.date+"T"+t.time,color:"#8950fc"}})),e=this.state.appointments.map((function(t){return{id:1,title:t.customername,allDay:!0,start:t.date+"T"+t.time,color:"#32c5d2"}})),n=this.state.slots.map((function(t){return{title:"slot",allDay:!0,start:t.date+"T"+t.time,color:"#3598dc"}})),c=e.concat(t,n);return Object(b.jsx)("div",{children:Object(b.jsx)(C.a,{plugins:[y.a],initialView:"dayGridMonth",events:c})})}}]),n}(s.a.Component),k=n(35),N=n(79),S=n(82),A=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(r.a)(this,n),(c=e.call(this,t)).state={isOpen:!1},c.openModal=function(){return c.setState({isOpen:!0})},c.closeModal=function(){return c.setState({isOpen:!1})},c.createSlot=function(){var t=c.state.timevalue,e=c.state.datevalue;""!=t&&""!=e&&(fetch("http://localhost:8000/createslots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:e,time:t})}).then((function(t){return t.json()})).then((function(t){return c.setState({requestCount:t.length})})),c.closeModal(),window.location.reload()),c.closeModal()},c.state={datevalue:"",timevalue:""},c.handleDateChange=c.handleDateChange.bind(Object(k.a)(c)),c.handleTimeChange=c.handleTimeChange.bind(Object(k.a)(c)),c}return Object(o.a)(n,[{key:"handleDateChange",value:function(t){this.setState({datevalue:t.target.value})}},{key:"handleTimeChange",value:function(t){this.setState({timevalue:t.target.value})}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:Object(b.jsx)(N.a,{variant:"danger",className:"font-weight-bold px-6 py-3",onClick:this.openModal,children:"Get Started"})}),Object(b.jsxs)(S.a,{show:this.state.isOpen,onHide:this.closeModal,backdrop:"static",children:[Object(b.jsx)(S.a.Header,{closeButton:!0,children:Object(b.jsx)(S.a.Title,{style:{margin:"20px"},children:"New Slot"})}),Object(b.jsxs)(S.a.Body,{children:[Object(b.jsx)("label",{style:{margin:"20px",fontWeight:"bolder"},children:"Date:"}),Object(b.jsx)("input",{type:"date",id:"dt",onChange:this.handleDateChange}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{style:{margin:"20px",fontWeight:"bolder"},children:"Time:"}),Object(b.jsx)("input",{type:"time",id:"tm",onChange:this.handleTimeChange}),Object(b.jsx)("br",{})]}),Object(b.jsxs)(S.a.Footer,{children:[Object(b.jsx)(N.a,{variant:"secondary",onClick:this.closeModal,children:"Close"}),Object(b.jsx)(N.a,{variant:"primary",onClick:this.createSlot,children:"Create"})]})]})]})}}]),n}(c.Component),q=(n(75),n(80)),M=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(r.a)(this,n),(c=e.call(this,t)).state={requestCount:"0",customerCount:"0",slotCount:"0",appointmentCount:"0"},c}return Object(o.a)(n,[{key:"callAPI",value:function(){var t=this;fetch("http://localhost:8000/pendingrequests").then((function(t){return t.json()})).then((function(e){return t.setState({requestCount:e.length})})),fetch("http://localhost:8000/customerscount").then((function(t){return t.json()})).then((function(e){return t.setState({customerCount:e.length})})),fetch("http://localhost:8000/appointments").then((function(t){return t.json()})).then((function(e){return t.setState({appointmentCount:e.length})})),fetch("http://localhost:8000/slots").then((function(t){return t.json()})).then((function(e){return t.setState({slotCount:e.length})}))}},{key:"componentWillMount",value:function(){this.callAPI()}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"d-flex flex-column-fluid",children:Object(b.jsx)(q.a,{style:{marginTop:"25px"},children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-xl-6",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-xl-6",children:[Object(b.jsx)(g,{color:"#f64e60",name:"Users",num:this.state.customerCount,icon:"1"}),Object(b.jsx)(g,{color:"#32c5d2",name:"Appointments",num:this.state.appointmentCount,icon:"2"})]}),Object(b.jsxs)("div",{className:"col-xl-6",children:[Object(b.jsx)(g,{color:"#8950fc",name:"Pending Requests",num:this.state.requestCount,icon:"3"}),Object(b.jsx)(g,{color:"#3598dc",name:"Vacant slots",num:this.state.slotCount,icon:"4"})]})]}),Object(b.jsx)(v.a,{style:{backgroundColor:"#1b283f"},children:Object(b.jsx)(v.a.Body,{children:Object(b.jsxs)("div",{className:"p-4",children:[Object(b.jsx)("h3",{className:"text-white font-weight-bolder my-7",children:"Create New Slots "}),Object(b.jsx)(A,{})]})})})]}),Object(b.jsx)("div",{className:"col-xl-6",children:Object(b.jsx)("div",{className:"card card-custom gutter-b card-stretch",style:{padding:"5%",border:"0px"},children:Object(b.jsx)(w,{})})})]})})})}}]),n}(c.Component),T=(n(76),n(81)),D=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(r.a)(this,n),(c=e.call(this,t)).state={data:[]},c}return Object(o.a)(n,[{key:"callAPI",value:function(){var t=this;fetch("http://localhost:8000/appointments").then((function(t){return t.json()})).then((function(e){return t.setState({data:e})}))}},{key:"componentWillMount",value:function(){this.callAPI()}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"d-flex flex-column-fluid",children:Object(b.jsxs)(q.a,{style:{backgroundColor:"white",marginTop:"25px",textAlign:"left",padding:"2%"},children:[Object(b.jsx)("h1",{children:"Appointments"}),Object(b.jsxs)(T.a,{className:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Appointment ID#"}),Object(b.jsx)("th",{scope:"col",children:"Customer Name"}),Object(b.jsx)("th",{scope:"col",children:"Customer ID"}),Object(b.jsx)("th",{scope:"col",children:"Date "}),Object(b.jsx)("th",{scope:"col",children:"Time"})]})}),Object(b.jsx)("tbody",{children:this.state.data.map((function(t,e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:t._id}),Object(b.jsx)("td",{children:t.customername}),Object(b.jsx)("td",{children:t.customerid}),Object(b.jsx)("td",{children:t.date}),Object(b.jsx)("td",{children:t.time})]})}))})]})]})})}}]),n}(c.Component),I=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(r.a)(this,n),(c=e.call(this,t)).state={data:[]},c}return Object(o.a)(n,[{key:"callAPI",value:function(){var t=this;fetch("http://localhost:8000/pendingrequests").then((function(t){return t.json()})).then((function(e){return t.setState({data:e})}))}},{key:"handleReject",value:function(t){fetch("http://localhost:8000/rejectrequests/"+t).then((function(t){return t.json()})).then(this.callAPI())}},{key:"removeRequest",value:function(t){fetch("http://localhost:8000/removerequest/"+t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then(this.callAPI())}},{key:"handleAccept",value:function(t){var e={customerid:t.customerid,customername:t.customername,slotid:t.slotid,date:t.date,time:t.time};fetch("http://localhost:8000/addappointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then(this.removeRequest(t._id))}},{key:"componentWillMount",value:function(){this.callAPI()}},{key:"render",value:function(){var t=this;return Object(b.jsx)("div",{className:"d-flex flex-column-fluid",children:Object(b.jsxs)(q.a,{style:{backgroundColor:"white",marginTop:"25px",padding:"2%",textAlign:"left"},children:[Object(b.jsx)("h1",{children:"Requests"}),Object(b.jsxs)(T.a,{className:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Request ID#"}),Object(b.jsx)("th",{scope:"col",children:"Customer Name"}),Object(b.jsx)("th",{scope:"col",children:"Customer ID"}),Object(b.jsx)("th",{scope:"col",children:"Slot Date"}),Object(b.jsx)("th",{scope:"col",children:"Time"}),Object(b.jsx)("th",{scope:"col"})]})}),Object(b.jsx)("tbody",{children:this.state.data.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:e._id}),Object(b.jsx)("td",{children:e.customername}),Object(b.jsx)("td",{children:e.customerid}),Object(b.jsx)("td",{children:e.date}),Object(b.jsx)("td",{children:e.time}),Object(b.jsxs)("td",{children:[Object(b.jsx)(N.a,{variant:"success",title:"Accept",onClick:function(){return t.handleAccept(e)},style:{marginRight:"10px"},children:"Accept"}),Object(b.jsx)(N.a,{variant:"danger",title:"Reject",onClick:function(){return t.handleReject(e._id)},children:"Reject"})]})]})}))})]})]})})}}]),n}(c.Component),V=n(9),P=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(r.a)(this,n),e.call(this,t)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(d.a,{children:[Object(b.jsx)(m,{}),Object(b.jsxs)(V.c,{children:[Object(b.jsx)(V.a,{exact:!0,path:"/",children:Object(b.jsx)(M,{})}),Object(b.jsx)(V.a,{path:"/appointments",children:Object(b.jsx)(D,{})}),Object(b.jsx)(V.a,{path:"/requests",children:Object(b.jsx)(I,{})})]})]})})}}]),n}(c.Component),z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(e){var n=e.getCLS,c=e.getFID,s=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),c(t),s(t),a(t),i(t)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(P,{})}),document.getElementById("root")),z()}},[[77,1,2]]]);
//# sourceMappingURL=main.1ebd3df4.chunk.js.map